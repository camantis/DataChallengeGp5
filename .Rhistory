Sfacts = read.csv("county_facts.csv", sep=",", header=TRUE)
Eresults = read.csv("US_County_Level_Presidential_Results_12-16.csv", sep=",", header=TRUE)
str(Eresults)
str(Sfacts)
View(Sfacts)
View(Sfacts)
View(Eresults)
View(Eresults)
"PVY020213")]
"PVY020213")]
Income = Sfacts[,names(Sfacts) %in% c("fips","area_name","state_abbreviation","INC110213",
"PVY020213")]
View(Income)
"EDU685213")]
Education = Sfacts[,names(Sfacts) %in% c("fips","area_name","state_abbreviation","EDU635213",
"EDU685213")]
View(Eresults)
Race = Sfacts[,names(Sfacts) %in% c("fips","area_name","state_abbreviation","RHI125214","RHI225214","RHI325214","RHI425214","RHI525214","RHI625214","RHI725214","RHI825214")]
View(Race)
DesperateHouseWives = Sfacts[,names(Sfacts) %in% c("fips","area_name","state_abbreviation","SEX255214")]
NE =Sfacts[Sfacts$state_abbreviation %in% c("ME","CT","MA","NH","RI","VT","NJ","NY","PA"),]
MW = Sfacts[Sfacts$state_abbreviation %in% c("IL","IN","MI","OH","WI","IA","KS","MN","MO","NE","ND","SD",)]
MW = Sfacts[Sfacts$state_abbreviation %in% c("IL","IN","MI","OH","WI","IA","KS","MN","MO","NE","ND","SD"),]
View(Eresults)
View(Education)
"KN","MS","TN","AR","LA","OK","TX"),]
SO = Sfacts[Sfacts$state_abbreviation %in% c("DE","FL","GA","MD","NC","SC","VI","DC","WV","AL",
"KN","MS","TN","AR","LA","OK","TX"),]
WE = Sfacts[Sfacts$state_abbreviation %in% c("AZ","CO","ID","MO","NV","NM","UT","WY","AK","CA","HI","OR","WA"),]
SO = Sfacts[Sfacts$state_abbreviation %in% c("DE","FL","GA","MD","NC","SC","VA","DC","WV","AL",
"KN","MS","TN","AR","LA","OK","TX"),]
SO = Sfacts[Sfacts$state_abbreviation %in% c("DE","FL","GA","MD","NC","SC","VA","DC","WV","AL",
"KY","MS","TN","AR","LA","OK","TX"),]
View(MW)
View(MW)
View(NE)
View(NE)
View(NE)
View(NE)
View(SO)
View(SO)
View(WE)
View(WE)
WE = Sfacts[Sfacts$state_abbreviation %in% c("AZ","CO","ID","MT","NV","NM","UT","WY","AK","CA","HI","OR","WA"),]
"KY","MS","TN","AR","LA","OK","TX"),]
SO = Sfacts[Sfacts$state_abbreviation %in% c("DE","FL","GA","MD","NC","SC","VA","DC","WV","AL",
"KY","MS","TN","AR","LA","OK","TX"),]
levels(Income)
levels(Income$area_name)
droplevels(NE$area_name)
droplevels(NE$state_abbreviation)
droplevels(SO$area_name)
droplevels(SO$state_abbreviation)
droplevels(WE$area_name)
droplevels(WE$state_abbreviation)
NEResults =EResults[Sfacts$state_abbr %in% c("ME","CT","MA","NH","RI","VT","NJ","NY","PA"),]
NEResults =Eresults[Eresults$state_abbr %in% c("ME","CT","MA","NH","RI","VT","NJ","NY","PA"),]
MWResults = Eresults[Eresults$state_abbr %in% c("IL","IN","MI","OH","WI","IA","KS","MN","MO","NE","ND","SD"),]
SOResults = Eresults[Eresults$state_abbr %in% c("DE","FL","GA","MD","NC","SC","VA","DC","WV","AL",
"KY","MS","TN","AR","LA","OK","TX"),]
WEResults = Eresults[Eresults$state_abbr %in% c("AZ","CO","ID","MT","NV","NM","UT","WY","AK","CA","HI","OR","WA"),]
droplevels(SOResults$state_abbr)
droplevels(NEResults$state_abbr)
droplevels(MWResults$state_abbr)
droplevels(WEResults$state_abbr)
View(NEResults)
View(WE)
mergetest = merge(by.WE$fips,byWEResults$FIPS)
mergetest= merge(WE,WEResults, by = c(1))
View(mergetest)
mergetest = merge(NE,NEResults)
mergetest = merge(NE,NEResults, by = "fips")
View(WE)
View(WEResults)
View(Eresults)
View(Eresults)
mergetest = merge(NE,NEResults, by = "fips")
mergetest = merge(WE,WEResults)
View(mergetest)
merge1 = merge(WE,WEResults, by = "fips")
merge1 = merge(WE,WEResults, by = "c(1)")
merge1 = merge(WE,WEResults, by = c(1))
View(merge1)
View(WE)
View(WEResults)
rm(merge1)
rm(mergetest)
View(Eresults)
NEResults =Eresults[Eresults$state_abbr %in% c("ME","CT","MA","NH","RI","VT","NJ","NY","PA"), select=c("FIPS","county_name","state_abbr","votes_dem_2016","votes_gop_2016","total_votes_2016","per_dem_2016","per_gop_2016"))]
NEResults =Eresults[Eresults$state_abbr %in% c("ME","CT","MA","NH","RI","VT","NJ","NY","PA"), select=c("FIPS","county_name","state_abbr","votes_dem_2016","votes_gop_2016","total_votes_2016","per_dem_2016","per_gop_2016")]
NEResults =Eresults[Eresults$state_abbr %in% c("ME","CT","MA","NH","RI","VT","NJ","NY","PA"), c("FIPS","county_name","state_abbr","votes_dem_2016","votes_gop_2016","total_votes_2016","per_dem_2016","per_gop_2016")]
MWResults = Eresults[Eresults$state_abbr %in% c("IL","IN","MI","OH","WI","IA","KS","MN","MO","NE","ND","SD"),c("FIPS","county_name","state_abbr","votes_dem_2016","votes_gop_2016","total_votes_2016","per_dem_2016","per_gop_2016")]
"KY","MS","TN","AR","LA","OK","TX"),c("FIPS","county_name","state_abbr","votes_dem_2016","votes_gop_2016","total_votes_2016","per_dem_2016","per_gop_2016")]
SOResults = Eresults[Eresults$state_abbr %in% c("DE","FL","GA","MD","NC","SC","VA","DC","WV","AL",
"KY","MS","TN","AR","LA","OK","TX"),c("FIPS","county_name","state_abbr","votes_dem_2016","votes_gop_2016","total_votes_2016","per_dem_2016","per_gop_2016")]
WEResults = Eresults[Eresults$state_abbr %in% c("AZ","CO","ID","MT","NV","NM","UT","WY","AK","CA","HI","OR","WA"),c("FIPS","county_name","state_abbr","votes_dem_2016","votes_gop_2016","total_votes_2016","per_dem_2016","per_gop_2016")]
colnames(NEResults) = c("fips","county","state","demvote","gopvote","totalvote","%dem2016","%gop2016")
NETotal = merge(NE,NEResults, by = "fips")
colnames(MWResults) = c("fips","county","state","demvote","gopvote","totalvote","%dem2016","%gop2016")
MWTotal = merge(MW,MWResults, by = "fips")
White = Sfacts[,names(Sfacts) %in% c("fips","area_name","state_abbreviation", "RHI125214","RHI825214","WhiteFirms")]
WhiteFirms=Sfacts$SBO001207-c(Sfacts$SBO315207|Sfacts$SBO115207|Sfacts$SBO215207|Sfacts$SBO515207|Sfacts$SBO415207)
View(White)
View(White)
tapply(Income$PVY020213,Income$state_abbreviation, mean)
tapply(Income$INC110213,Income$state_abbreviation,mean)
NETotal=cbind(NETotal,trumpvictory=0)
View(NETotal)
NETotal$trumpvictory[NETotal$gopvote>NEtotal$demvote]=1
NETotal$trumpvictory[NETotal$gopvote>NETotal$demvote]=1
MWTotal= cbind(MWTotal,trumpvictory=0)
MWTotal$trumpvictory[NETotal$gopvote>NETotal$demvote]
MWTotal$trumpvictory[NETotal$gopvote>NETotal$demvote]=1
View(MWTotal)
View(MWTotal)
